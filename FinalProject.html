<!DOCTYPE HTML>
<!--
	Halcyonic by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Final Term Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		
		<!-- created a seperate stylesheet for this specific term project -->
		<link rel="stylesheet" href="assets/css/FinalProject.css"/>
	</head>	
	<body class="subpage">
		<div id="page-wrapper">
			<!-- Header -->
				<div id="header-wrapper">
					<header id="header" class="container">
						<div class="row">
							<div class="12u">
							<!-- Logo -->
								<h1><a id="logo1">Farhan Khan <br/>Projects</a></h1>

							<!-- Nav -->
								<nav id="nav">
									<a href="index.html">Homepage</a>
									<a href="Milestone1.html">Milestone 1</a>
									<a href="Milestone2.html">Milestone 2</a>
									<a href="Milestone3.html">Milestone 3</a>
									<a href="apps/Milestone4.html">Milestone 4</a>
									<a href="FinalProject.html">Final Project</a>
									<a href="ExtraLab.html">Extra Lab</a>
								</nav>
							</div>
						</div>
					</header>
				</div>

			<!-- Content -->
				<div id="content-wrapper">
					<div id="content">
						<div class="container">
							<div class="row">
								<div class="3u 12u(mobile)">
								<!-- Sidebar -->
									<section>
										<header>
											<h2>Quick Links</h2>
										</header>
										<ul class="link-list">
											<li><a href="Milestone1.html">Milestone 1</a></li>
											<li><a href="Milestone2.html">Milestone 2</a></li>
											<li><a href="Milestone3.html">Milestone 3</a></li>
											<li><a href="apps/Milestone4.html">Milestone 4</a></li>
											<li><a href="ExtraLab.html">Extra Lab</a></li>
										</ul>
									</section>
								</div>
								<div class="9u 12u(mobile) important(mobile)">
								<!-- Main Content -->
									<section>
										<header>
											<h2>Final Term Project</h2>
											<h2 style="text-align:center">Movie Search App</h2>
										</header>
										<div id="search">
												<input id="search_val" type="text" name="search" placeholder="Search..." onkeydown = "if (event.keyCode == 13) document.getElementById('search_button').click()">
												<button class="button" id="search_button" type="button">Search</button>
											</div>
										<div>											
											<div class="rated_movies" id='layout'>
												<ul>
													<li><button class="button" id="popular_movies" type="button">Popular Movies</button></li>
													<li><button class="button" id="top_rated_movies" type="button">Top Rated Movies</button></li>
													<li><button class="button" id="upcoming_movies" type="button">Upcoming Movies</button></li>
													<li><button class="button" id="favorite_movies" type="button">Favorite Movies</button></li>
												</ul>
											</div>
											<div class="line" id='layout'>
												<ul>
													<li><button class="button" id="grid" type="button">Grid</button></li>
													<li><button class="button" id="list" type="button">List</button></li>
												</ul>
											</div>
										</div>											
										<div id="maincontent">
											<div id="movielist" layout="grid"></div>
										</div>										
										<div id="movie_details"></div>										
										<div id="navigation">	
											<div class="line" id="pages">
												<ul class="pagination">
													<li id="0"><a class="page-link" href="#">1</a></li>
													<li id="1"><a class="page-link" href="#">2</a></li>
													<li id="2"><a class="page-link" href="#">3</a></li>
													<li id="3"><a class="page-link" href="#">4</a></li>
													<li id="4"><a class="page-link" href="#">5</a></li>
												</ul>
											</div>												
										</div>
									</section>
								</div>
							</div>
						</div>
					</div>
				</div>

			<!-- Footer -->
				<div id="footer-wrapper">
					<footer id="footer" class="container">
						<div class="row">
							<div class="8u 12u(mobile)">

								<!-- Links -->
									<section>
										<h2>Links to Important Stuff</h2>
										<div>
											<div class="row">
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="https://www.facebook.com/KhaoticReaper" target="_blank">Facebook</a></li>
														<li></li>
													</ul>
												</div>
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="https://twitter.com/khaotickhan" target="_blank">Twitter</a></li>
														<li></li>
													</ul>
												</div>
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="https://plus.google.com/+FarhanKhanKR" target="_blank">Google +</a></li>
														<li></li>
													</ul>
												</div>
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="https://www.twitch.tv/khaoticreaper" target="_blank">Twitch</a></li>
														<li></li>
													</ul>
												</div>
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="mailto:fkhan13@students.kennesaw.edu" target="_blank">Contact me</a></li>
														<li></li>
													</ul>
												</div>
												<div class="2u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="tel:+1-800-222-2222">Call me</a></li>
														<li></li>
													</ul>
												</div>
											</div>
										</div>
									</section>
							</div>
						</div>
					</footer>
				</div>

			<!-- Copyright -->
				<div id="copyright">
					2017&copy; Farhan Khan Web Projects. All rights reserved. | Design: <a href="http://html5up.net">HTML5 UP</a>
				</div>
		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/skel-viewport.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
			<script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.0/mustache.min.js"></script>
			<!-- script to display the movies on the page -->
			<script id="movie_list_template" type="text/template">	
			{{#results}}
			<div class="movie_list_item" id="{{id}}">
				<div class="movie_list_itemheader" data-movieid="{{id}}">
					<img class='thumbnail' src='https://image.tmdb.org/t/p/original{{poster_path}}'/>
					<div class='card'>
					</br>
					</br>
					</br>
						<h2 style='text-align: center'>{{title}}</h2>
					</div>
				</div>
				<div class='movie_details' style='display:none'></div>
			</div>
			{{/results}}
		</script>
		<!-- script to display the movies details on the page -->
		<script id="movie_details_template" type="text/template">
			<div>
				<input type="button" id="btnHide" value="Close"/>
			</div>
			<div>
				<div class="flex" id="overview-flex">
					<img id="poster" src='https://image.tmdb.org/t/p/original{{poster_path}}'/>
                    <div id="overview">
						<h2 style="text-align: center" id="title_format">{{title}}</h2>
						<h3 style="text-align: center" id="title_format">Overview</h3>
						<p style="text-align: center">{{overview}}</p>
						<hr>
						<div id="comma_container">
							</br>
							<ul>
								<li><b>&nbsp;<u>Release Date:</u> </b>{{release_date}}</br></li>
								<li><b>&nbsp;<u>Language:</u> </b>{{#spoken_languages}}<span>{{name}}</span>{{/spoken_languages}}</br></li>
								<li><b>&nbsp;<u>Genres:</u> </b>{{#genres}}<span>{{name}}</span>{{/genres}}</br></li>
								<li><b>&nbsp;<u>Vote Average:</u> </b>{{vote_average}} out of 10.0</br></li>							
								<li><b>&nbsp;<u>Status:</u> </b>{{status}}</br></li>
								<li><b>&nbsp;<u>Runtime:</u> </b>{{runtime}} min</br></li>
								<li><b>&nbsp;<u>Revenue: $</u> </b>{{revenue}}</br></li>
								<li><b>&nbsp;<u>Production Companies: </u> </b>{{#production_companies}}<span>{{name}}</span>{{/production_companies}}</br></li>
								<li><b>&nbsp;<u>IMDB:</u> </b><a href="http://www.imdb.com/title/{{imdb_id}}" target="_blank">Visit</a></br></li>
								<li><b>&nbsp;<u>Homepage:</u> </b><a href="{{homepage}}" target="_blank">Visit</a></br></li>
								<li><b>&nbsp;<u>Tagline:</u> </b>{{tagline}}</br></li>
								</ul>
								<b>&nbsp;<u>Cast Name:</u> 
														</b>
															<ul>
																{{#credits}}
																	{{#cast}}
																		<li style="list-style-type: circle; list-style-position: inside;">{{name}}</li>
																	{{/cast}}
																{{/credits}}
															</ul>
														</br>
						</div>
						<button style="text-align: center" class="button" id="castBtn" type="button">See Cast</button>
						<div id="cast"></div>
					</div>
					<div style="clear:both"></div>
				</div>
			</div>
		</script>
		<script id="cast_details_template" type="text/template">
			<div id="{{id}}">
				<div class="cast_item_header" data-movieid="{{id}}">
					<img class='thumbnail' src='https://api.themoviedb.org/3/person/{{profile_path}}'/>
					<div class='card'>
					</br>
					</br>
					</br>
						<h2 style='text-align: center'>{{name}}</h2>
					</div>
				</div>
				<div class='cast' style='display:none'></div>
			</div>
		</script>
		<!-- script to display the cast details on the page -->
		<script id="cast_list_template" type="text/template">
			<div>
				<input type="button" id="btnHide" value="Close"/>
			</div>
			<div class="flex" id="cast_temp">
				<b>Cast Members:</b>
				{{#credits}}
					{{#cast}}
						{{name}}
					{{/cast}}
				{{/credits}}
			</div>
		</script>
		<!-- script to set functionality of buttons and links on the site -->
		<script type="text/javascript">
			$(document).ready(function ()
			{
			 var api_key = "8553e963afcc68bc0f2cd9e0fea57612";
			 $("#search_button").click(function ()
			 {
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=1";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);				 
				$('.pagination').show();
			});
			$("#0").click(function() 
			{
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=1";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);
			});
			$("#1").click(function() 
			{
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=2";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);
			});
			$("#2").click(function() 
			{
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=3";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);
			});
			$("#3").click(function() 
			{
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=4";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);
			});
			$("#4").click(function() 
			{
				$("#movielist").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=5";
				var url = "https://api.themoviedb.org/3/search/movie?api_key=" + api_key + parameter;
				searchMovie(url);
			});
			
			
			$("#popular_movies").click(function ()
			 {
				$("#movielist").html("");
				var url = "https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=" + api_key;
				searchMovie(url);
				$('.pagination').hide();
			});
			$("#top_rated_movies").click(function ()
			 {
				$("#movielist").html("");
				var url = "https://api.themoviedb.org/3/movie/top_rated?api_key=" + api_key + "&language=en-US&page=1";
				searchMovie(url);
				$('.pagination').hide();
			});
			$("#upcoming_movies").click(function ()
			 {
				$("#movielist").html("");
				var url = "https://api.themoviedb.org/3/movie/upcoming?api_key=" + api_key + "&language=en-US&page=1";
				searchMovie(url);
				$('.pagination').hide();
			});
				
			$("#favorite_movies").click(function ()
			 {
				$("#movielist").html("");
				var url = "https://api.themoviedb.org/4/list/40545?api_key=" + api_key + "&language=en-US";
				searchMovie(url);
				$('.pagination').hide();
			});
			$("#castBtn").click(function ()
			{
				$("#cast").html("");
				var search = $("#search_val").val();
				var parameter = "&query=" + search + "&page=1";
				var url = "https://api.themoviedb.org/3/movie/" + movieid + "?api_key=" + api_key + "&append_to_response=credits";
				searchCast(url);
			});
			});
			<!-- script to search for the movie and display it in proper layout -->
			function searchMovie(servicePoint)
			{
			 $.getJSON(servicePoint, function (jsonData)
			 {		
				var template = $('#movie_list_template').html();
				var html = Mustache.render(template, jsonData);
				$("#movielist").append(html);
				if ($("#movielist").attr("layout")=="list") 
				{
					$(".movie_list_item").css("width", "90%");
					$(".thumbnail").css("width", "25%").css("height", "25%");
					$(".card").show();
				}
				else
				{
					$(".movie_list_item").css("width", "22.65%");
					$(".thumbnail").css("width", "100%").css("height", "100%");
					$(".card").hide();
				}
				 $(".movie_list_itemheader").on('click', function () 
				 { 
					div=$(this).next();
					getmovie_details($(this).attr("data-movieid"), div);
				 });
			 });
			}
			<!-- script for getting the movie details from designated site-->
			function getmovie_details(movieid)
			{
			 $.getJSON("https://api.themoviedb.org/3/movie/" + movieid + "?api_key=8553e963afcc68bc0f2cd9e0fea57612&append_to_response=credits", 
			 function (jsonData)
			 {
				$("#movie_details").html("");
				var template = $('#movie_details_template').html();
				var html = Mustache.render(template, jsonData);
				$("#movie_details").html(html);
				$("#movie_details").fadeIn();						 
				$("#btnHide").click(function ()
				{
					$("#movie_details").fadeOut();
				});
			 });
			}
			<!-- script to get cast detail for the movie that is being looked for -->
			function searchCast(servicePoint)
			{
			 $.getJSON(servicePoint, function (jsonData)
			 {		
				var template = $('#cast_list_template').html();
				var html = Mustache.render(template, jsonData);
				$("#cast").append(html);
				 $("cast_item_header").on('click', function () 
				 { 
					div=$(this).next();
					getcast_details($(this).attr("data-castid"), div);
				 });
			 });			 
			}
			function getcast_details(castid)
			{
			 $.getJSON("https://api.themoviedb.org/3/person/" + castid + "?api_key=8553e963afcc68bc0f2cd9e0fea57612&language=en-US",
			 <!-- "https://api.themoviedb.org/3/person/" + movieid + "/movie_credits?api_key=8553e963afcc68bc0f2cd9e0fea57612&language=en-US",  -->
			 function (jsonData)
			 {
				$("#cast").html("");
				var template = $('#cast_details_template').html();
				var html = Mustache.render(template, jsonData);
				$("#cast").html(html);
				$("#cast").fadeIn();	
				$("#castBtn").click(function ()
				{
					$("#cast").fadeOut();
				});
			 });
			}
		</script>
		
		<!-- script for the grid and list views -->
		<script>
			$(function(){
				$("#grid").click(function (){
					$(".movie_list_item").css("width", "22.65%").css("flex-direction", "row");
					$("#movielist").attr("layout","Grid");
					$(".card").hide();
					$(".thumbnail").css("width", "100%").css("height", "100%");
				});
				
				$("#list").click(function (){
					$(".movie_list_item").css("width", "90%").css("flex-direction", "column");
					$("#movielist").attr("layout","List");
					$(".card").show();
					$(".thumbnail").css("width", "25%").css("height", "25%");
				});
			});
		</script>
	</body>
</html>
